---
title: 编码
toc: true
date: 2017-04-27 00:17:48
category: 
    - 技术贴
    - 理论与概念
tags: 
    - 编码
    - UTF-8

---

# 基础概念
- 字符表(Character repertoire)
一个系统需要支持哪些字符,字符的集合
- 编码字符集(CCS:Coded Character Set)
给字符表里的抽象字符编上一个数字，字符集合到一个整数集合的映射
- 字符编码表(CEF:Character Encoding Form)
将CCS里字符对应的整数转换成有限长度的比特值，便于以后计算机使用
一定长度的二进制形式表示该整数
- 字符编码方案(CES:Character Encoding Scheme)
对于CEF得到的比特值具体如何在计算机中进行存储，传输。
因为存在大端小端的问题，这就会跟具体的操作系统相关

<!--more-->
## ASCII

ASCII一共定义了128个字符，使用了一个字节的7位
A -> 0100 0001。ASCII直接完成了现代编码模型的前三步工作CR-CCS-CEF。
语言千万种，表示不全

##混乱时代

一个字节可以表示8位，ASCII只用了7位，那么剩下一位就被各种语言扩展
但是仅汉字就有10万多个，一个字节的256表示方式怎么能够满足呢。
产生了各种多字节的表示一个字符方法(gbk就是其中一种)


## ISO-8859-1(Latin-1)



## Unicode

Unicode是属于编码字符集（CCS）的范围，将需要表示的字符表中的每个字符映射成

一个数字，这个数字被称为相应字符的码点（code point）

如“严”字在Unicode中对应的码点是U+0x4E25。



## GBK

GBK是国家标准GB2312基础上扩容后兼容GB2312的标准。

GBK的文字编码是用双字节来表示的，即不论中、英文字符均使用双字节来表示，

为了区分中文，将其最高位都设定成1。GBK包含全部中文字符，是国家编码，

通用性比UTF8差，不过UTF8占用的数据库比GBD大。

### 解释
**********************注意理解**********************

unicode，gbk(简体中文)和大五码（繁体中文）就是编码的值，而utf-8,uft-16之类就是这个值的表现形式．

而前面那三种编码是一兼容的，同一个汉字，那三个码值是完全不一样的．

如＂汉＂的unicode值与gbk就是不一样的，假设unicode为a040，gbk为b030，而uft-8码，

就是把那个值表现的形式．utf-8码完全只针对unicode来组织的，

如果ＧＢＫ要转ＵＴＦ－８必须先转unicode码，再转utf-8就好．

### 字符编码

刚才提到的码点是什么数字，(jdk中称为codePoint,详见String类)我们就把这个数字转换成相应的二进制表示，

例如“严”在Unicode中对应的数字是0x4E25,他的二进制是100 1110 0010 0101， 

也就是严这个字需要两个字节进行存储。

缺点：还有其他语系的存在，到底该使用几个字节表示一个字符

解决：用变长的字节来存储一个字符

UTF-8(Unicode Transformation Format-8)

unicode|utf-8 对应关系(pic/unicode|utf-8.png)

规则：

已知“严”的unicode是4E25（100111000100101），根据上表，可以发现4E25

处在第三行的范围内（0000 0800-0000 FFFF），因此“严”的UTF-8编码需要三个字

节，即格式是“1110xxxx 10xxxxxx 10xxxxxx”。然后，从“严”的最后一个二进制位开

始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，“严”的UTF-8编码是 

“11100100 10111000 10100101”，转换成十六进制就是0xE4B8A5。

## UTF-8 UTF-16 UTF-32

UTF后边的数字代表的是码元的大小

码 元（Code Unit）是指一个已编码的文本中具有最短的比特组合的单元。

对于UTF-8来说，码元是8比特长；对于UTF-16来说，码元是16比特长。

换一种说法 就是UTF-8的是以一个字节为最小单位的，UTF-16是以两个字节为最小单位的

